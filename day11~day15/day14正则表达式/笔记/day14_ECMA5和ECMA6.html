<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600388 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="415"/>

<div>
<span><div><div><span style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">目标：</span></span></div><ol><li><div><span style="font-size: 14px;">this</span></div></li><li><div><span style="font-size: 14px;">改变this指向的三个方法</span></div></li><li><div><span style="font-size: 14px;">ECM6新增语法</span></div></li><li><div>展望ECMA7</div></li></ol><div><br/></div><div><span style="font-size: 18px; font-weight: bold;">一、this关键字详解，改变this指向的方法call、apply、bind深度分析</span></div><div><span style="font-size: 18px; font-weight: bold;">1、this的使用场景</span></div><div><span style="font-size: 18px; font-weight: bold;">1.1.this的记忆规则</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 14px; font-family: Monaco;">    每一个函数中，都有一个内置的变量this，这个this中存储着当前函数的主人，所以，要知道this是谁，就要通过上下文分析，当前函数的主人是谁。</span><span style="font-size: 14px; font-family: Monaco; font-weight: bold; color: rgb(255, 38, 0);">this永远存储的是当前函数的主人。</span></div></div><div><br/></div><div><span style="font-size: 18px; font-weight: bold;">1.2.全局函数中指向window</span></div><div><img src="day14_ECMA5和ECMA6_files/Image.png" type="image/png" data-filename="Image.png" width="383"/></div><div><br/></div><div><span style="font-size: 18px; font-weight: bold;">1.3.对象方法中指向该对象</span></div><div><img src="day14_ECMA5和ECMA6_files/Image [1].png" type="image/png" data-filename="Image.png" width="383"/></div><div><br/></div><div><span style="font-size: 18px; font-weight: bold;">1.4.事件绑定中，指向目标对象</span></div><div><img src="day14_ECMA5和ECMA6_files/Image [2].png" type="image/png" data-filename="Image.png" width="470"/></div><div><br/></div><div><span style="font-size: 18px; font-weight: bold;">2、call、apply、bind方法区别详解</span></div><div><img src="day14_ECMA5和ECMA6_files/Image [3].png" type="image/png" data-filename="Image.png" width="449"/></div><div><br/></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">二、ECMA6新增语法</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">汇总了一些帖子和书籍，总结的精简版 ,并加入了一些应用的分析，对于面试的临阵磨枪，效果会非常好。 但如果想深入的研究ES6，最好还是参考官网的文档来看。</span></div><div><a href="http://www.ecma-international.org/ecma-262/6.0" style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">http://www.ecma-international.org/ecma-262/6.0</font></a></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">由于ES6加入的东西实在太多，简直是一言不合就加API。</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">ES6新增的知识量，堪比ES3的内容总和了。 </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">但并不都是非常有用的，当然也可能是还没发现它哪里有用 目前浏览器的支持还处于初级阶段，我们还是要学会自己去思考和辨识。 </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">所以本文中的内容没有必要全部都讲，</span><span style="font-family: Monaco;"><font color="#FF2600" style="font-size: 14px;"><b>实用优先。</b></font></span></div></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">2.1let关键字</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 14px;">用来替代var的关键字</font></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-family: Monaco; font-size: 12px;">举例：</span> <span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">for(var i=0; i&lt;5; i++){ </font></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">         setTimeout(function(){ </font></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">            alert(i); </font></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF"><span style="font-family: Monaco; font-size: 12px;">         },1000);</span></font></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">      }</font></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"><b>你认为弹出的结果是多少？ </b></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"><b>结果： 5,5,5,5,5</b></span></span></div><div style="font-size: 18px;"></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">是不是跟你认为的0，1，2，3，4不太一样？？？ </span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">原因就在于，var i=0，定义的不是局部变量，而是全局变量，这里不会形成闭包。</span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-family: Monaco; font-size: 12px;">再举例：</span> <span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">for(var i=0; i&lt;5; i++){ </font></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">            for(var i=0; i&lt;5; i++){ </font></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">                console.log(i); </font></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">            } </font></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">        }</font></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><b><font color="#000000">你认为打印的结果是多少？ </font></b></span></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><b><font color="#000000">结果： 1 2 3 4 5 难到不是打印25次么？ </font></b></span></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><b><font color="#000000">原因还是因为，像for循环的大括号，是不会形成作用域的。</font></b></span></span></span></span></div><div style="font-size: 18px;"></div><div><span style="font-family: Monaco;"><span style="font-family: Monaco;"><span style="font-family: Monaco;"><span style="font-family: Monaco;"><span style="font-family: Monaco;"><font color="#FF2600" style="font-size: 14px;">那么如何在一个语句块中定义局部变量呢？ 那就是使用let,不过目前大多数的ES6只允许在严格模式下使用。</font></span></span></span></span></span></div><div style="font-size: 18px;"></div><div><font color="#0433FF" face="Monaco">&quot;use strict” </font></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">for(let i=0; i&lt;3; i++){ </font></span></span></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">    setTimeout(function(){ </font></span></span></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">        alert(i) </font></span></span></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">    },1000); </font></span></span></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">}</font></span></span></span></span></span></div><div style="font-size: 18px;"></div><div><span style="font-family: Monaco;"><span style="font-family: Monaco;"><span style="font-family: Monaco;"><span style="font-family: Monaco;"><span style="font-family: Monaco;"><span style="font-family: Monaco;"><font color="#000000" style="font-size: 14px;"><b>我们尝试一下if语句的大括号</b></font></span></span></span></span></span></span></div><div><font color="#0433FF" face="Monaco">&quot;use strict”; </font></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">let a = 10; </font></span></span></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">if(window) { </font></span></span></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">    let a = 100; </font></span></span></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">    console.log(a); </font></span></span></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">} </font></span></span></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">console.log(a)；</font></span></span></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><b><font color="#000000"><span style="font-weight: bold; font-family: Monaco; font-size: 12px;">结果： 100 10</span></font></b></span></span></span></span></div><div style="font-size: 18px;"></div><div style="font-size: 18px;"></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><b><font color="#000000"><span style="font-weight: bold; font-family: Monaco; font-size: 12px;"><span style="font-weight: bold; font-family: Monaco; font-size: 12px;">从标准的ES6开始，我们有了块级作用域 </span></span></font></b></span></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="color: rgb(0, 0, 0); font-weight: bold; font-family: Monaco; font-size: 12px;">例如：</span> <span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">function m(){ </font></span></span></span></span></span></span></div><div><font color="#0433FF"><span style="font-family: Monaco; font-size: 12px;">        </span><font face="Monaco">console.log(&quot;111111111”) </font></font></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">      } </font></span></span></span></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">      if( flag &gt; 5) { </font></span></span></span></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">            function m(){ </font></span></span></span></span></span></span></div><div><font color="#0433FF"><span style="font-family: Monaco; font-size: 12px;">                </span><font face="Monaco">console.log(&quot;2222222222”) </font></font></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">            } </font></span></span></span></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">      } </font></span></span></span></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">      m(); </font></span></span></span></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><b><font color="#000000"><span style="font-weight: bold; font-family: Monaco; font-size: 12px;"><span style="font-weight: bold; font-family: Monaco; font-size: 12px;">在ES5中，函数m会在第二次定义时被覆盖。 结果： 222222222222 </span></span></font></b></span></span></span></span></div><div style="font-size: 18px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><span style="font-family: Monaco; font-size: 12px;"><b><font color="#000000"><span style="font-weight: bold; font-family: Monaco; font-size: 12px;"><span style="font-weight: bold; font-family: Monaco; font-size: 12px;">在ES6中，则会出现 111111111111的结果。</span></span></font></b></span></span></span></span></div></div><div><br/></div><div><br/></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">三、const声明常量</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">我们终于可以定义常量了！ </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">const GD_TYPE_NORMAL = 1;</span></div></div><div><br/></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">四、箭头函数</span></font></div><div><span style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">这个我个人不推荐，等会再说原因，先讲优点。</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-weight: bold; font-size: 18px;">先看区别吧，原来的写法 </span></div><div><span style="font-size: 18px;"><b>  </b> <font color="#0433FF" style="font-size: 13px;"> var test = function(x){ </font></span></div><div><font color="#0433FF" style="font-size: 13px;">        return x+2; </font></div><div><font color="#0433FF" style="font-size: 13px;">      } </font></div><div><span style="font-weight: bold; font-size: 18px;">使用箭头函数： </span></div><div><font color="#0433FF" style="font-size: 13px;">var test = x=&gt;x+2;</font></div><div><span style="font-family: Monaco; font-size: 13px; color: rgb(4, 51, 255);">【注】看起很简单吧？ 省略了function、return关键字和大括号。 使用方法跟以前一样没区别 test(5); 结果： 7</span></div></div><div><br/></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">缺点：</span></font></div><div><span style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">第一：</span><span style="font-size: 18px; font-weight: bold;">箭头函数是不能new的，它的设计初衷就跟构造函数不太一样</span></span></div><div><span style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">第二：</span><span style="font-size: 18px; font-weight: bold;">箭头函数如果要返回一个JSON对象，必须用小括号包起来</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco;"><font color="#FF2600" style="font-size: 14px;">var test = ()=&gt;({id:3, val=20})</font></span></div></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; color: rgb(255, 38, 0); font-weight: bold;">箭头函数现在非常流行，但我个人并不觉得它有那么美好。</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">主要是因为，这样的设计对代码的可读性伤害太大了 </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    引用国际著名OO专家、敏捷开发创始人 马丁.福勒的一句名言： </span></div><div><span style="font-family: Monaco; font-size: 12px;"><span style="color: rgb(51, 51, 51);">    </span><font color="#0433FF">任何一个傻瓜都能写出计算器可以理解的代码。惟有写出人类容易理解的代码，才是优秀的程序员。 </font></span></div><div><span style="font-family: Monaco; font-size: 12px;"><font style="color: rgb(4, 51, 255);">    ……我们读代码的时间和写代码的时间比率是10：1。这意味着我们大部分时间都在阅读老代码，以便于之后新代码的编写。因为读代码占得比重太大了，因此我们希望在阅读代码的时候能够更 加轻松，即便在编写代码的时候需要费点劲。 </font></span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    这一段好像也是他老人家说的，我觉得很有道理。 </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    省略掉一个function单词，并不能给开发效率提高多少，但牺牲的却是最基本的代码可读性 除了数学运算，我们几乎从来不用符号表示一些复杂的含义。 甚至以前有人质疑过JQ关于each方法的设计思想，认为它屏蔽了程序最基本的逻辑，那就是循环 代码的可读性收到了严重伤害。不过我们仔细看看forEach、map、filter这些函数， 尽管它们屏蔽了for循环，但分析这些单词的含义：</span></div><div><br/></div><div><span style="font-family: Monaco;"><font color="#AA7942" style="font-size: 14px;">forEach 每个</font></span></div><div><font color="#AA7942" face="Monaco" style="font-size: 14px;">map  映射</font></div><div><font color="#AA7942" face="Monaco" style="font-size: 14px;">filter 过滤</font></div><div><font color="#FF2600" face="Monaco" style="font-size: 14px;"><b>它们其实全部都隐含表达了遍历的意思</b></font></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">回过头来我们再看，</span><span style="font-family: Monaco;"><font color="#FF2600" style="font-size: 14px;"><b>从function到=&gt;</b></font></span><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">，这东西连个象形符号都算不上 这就是为什么数学有那么多的符号可以用来交流，但我们却从不把它称为语言。</span></div></div><div><br/></div><div><font color="#FF2600" style="font-size: 14px;"><span style="font-size: 14px; color: rgb(255, 38, 0); font-family: Monaco; font-weight: bold;">再举个例子，你看下面这段代码： </span></font></div><div><img src="day14_ECMA5和ECMA6_files/Image [4].png" type="image/png" data-filename="Image.png" width="787"/></div><div><br/></div><div><font style="font-size: 14px;"><span style="font-size: 14px; font-weight: bold;">给你3分钟，能看懂吗？</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">它为什么这么复杂？实际上就是因为它全部都使用了非象形符号表示的 因此正则表达式才会成为最难交流以及阅读的编程语言 </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"><b>但是！我们必须承认</b>，它确实给我们的验证工作提升了百倍以上的效率 权衡利弊，我有理由喜欢它 但是这个箭头函数，在多数情况下，我不推荐使用 </span></div><div><br/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">就像你的代码里不能满屏幕充斥着<b>三目运算符 和 Math.max(xx,yy) Math.min(xx,yy)</b> 这样的东西。这样真的好吗？</span></div><div><br/></div><div><font color="#FF2600" face="Monaco" style="font-size: 14px;"><b>一定要对这些东西，有一个统一的认知，适当使用。</b></font></div></div><div><br/></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">五、Destructuring解构</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 14px;">以前我们定义多个变量，可以这样写： </font></span></div><div><span style="font-family: Monaco;"><font color="#FF2600" style="font-size: 14px;">var x=10,y=20,z=30;</font></span></div><div><br/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 14px;">现在我们可以这样写： </font></span></div><div><span style="font-family: Monaco;"><font color="#FF2600" style="font-size: 14px;">let [x,y,z] = [10,20,30]; </font></span></div><div><span style="font-family: Monaco;"><font color="#FF2600" style="font-size: 14px;">let [x,[a,b],y] = [10,[15,18],20];</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 14px;">这并不是在定义数组，而是通过等号两边的结构匹配，进行赋值。</font></span></div><div><br/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 14px;">当然，如果你写的不够规范：</font></span></div><div><span style="font-family: Monaco;"><font color="#FF2600" style="font-size: 14px;">let [x,y] = [10,20,30]; //结果x=10,y=20 </font></span></div><div><span style="font-family: Monaco;"><font color="#FF2600" style="font-size: 14px;">let [x,[a,b],y] = [10,[5],20]; //结果x=10,a=5,y=20,b=undefined</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 14px;">浏览器并不会报错，依然赋值成功。</font></span></div><div><br/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 14px;">甚至可以使用对象来赋值</font></span></div><div><span style="font-family: Monaco;"><font color="#FF2600" style="font-size: 14px;">var {id,name,age} = {id:43,name:'yt',age:30}</font></span></div></div><div><br/></div><ol><li><div>解构赋值的用途</div></li></ol><div>        &lt;1&gt;交换变量的值</div><div><span style="color: rgb(170, 121, 66);">            [a,b] = [b,a]; //排序可能会常用到</span></div><div>        &lt;2&gt;函数返回多个值，这个功能比较有颠覆性</div><div>           <span style="color: rgb(170, 121, 66);"> var [r1,r2,r3] = exec();</span></div><div><span style="color: rgb(170, 121, 66);">            function exec(){ return [&quot;结果a&quot;,&quot;结果b&quot;,&quot;结果c&quot; ]; }</span></div><div>        &lt;3&gt;函数的参数定义方式，不用再考虑顺序</div><div>            <span style="color: rgb(170, 121, 66);">function exec({time, speed, pos}){ }</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">执行函数： exec({ </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">            pos: {x:20,y:55}, </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">            speed: 50, </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">            time: 2000 </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">         })</span></div></div><div>            默认值也可以顺便带上</div><div><span style="color: rgb(170, 121, 66);">            function exec({ </span></div><div><span style="color: rgb(170, 121, 66);">                time=2000, </span></div><div><span style="color: rgb(170, 121, 66);">                speed=50, </span></div><div><span style="color: rgb(170, 121, 66);">                pos</span></div><div><span style="color: rgb(170, 121, 66);">            }){ }</span></div><div><br/></div><div><span style="color: rgb(170, 121, 66);">       </span> &lt;4&gt;获取数组的指定元素(第一个和最后一个)</div><div>            <span style="color: rgb(170, 121, 66);">var {0:head, 5:last} = arr;</span></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">六、字符串的一些方法</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 14px;">字符串模板, 使用反引号`表示，使用${变量|函数}嵌入代码 </font></span></div><div><span style="font-family: Monaco;"><font color="#AA7942" style="font-size: 14px;">node.innerHTML = <span style="font-family: Monaco;">`你好，我的名字叫${username} 接下来是我的自我介绍：${introduce()}` ;</span></font></span></div><div><br/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 18px;"><b>这是一个十分令人惊喜的功能</b></font></span></div></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">七、数组的一些方法</span></font></div><div><span style="font-weight: bold;">将伪数组转为数组： </span></div><div>   <span style="color: rgb(255, 38, 0);"> </span><span style="color: rgb(255, 38, 0);">var list = Array.from(document.getElementsByTagName(&quot;li&quot;));</span></div><div><br/></div><div><span style="font-weight: bold;">复制指定内容覆盖指定内容（指定数组的下标6、7替换下标2及以后</span></div><div><span style="color: rgb(255, 38, 0);">    var arr = [1,2,3,4,5,6,7,8,9,0]; </span></div><div><span style="color: rgb(255, 38, 0);">    arr.copyWithin(2,6,8); //[1,2,7,8,5,6,7,8,9,0];</span></div><div><br/></div><div><span style="font-weight: bold;">find跟过filter差不多，不过在找到符合条件的元素后，返回元素并停止遍历</span></div><div><span style="color: rgb(255, 38, 0);">    [1, 5, 10, 15].find(function(value, index, arr) {</span></div><div><span style="color: rgb(255, 38, 0);">                                     return value &gt; 9;</span></div><div><span style="color: rgb(255, 38, 0);">                                })</span></div><div><span style="color: rgb(255, 38, 0);">    // 10</span></div><div><br/></div><div><span style="font-weight: bold;">跟find差不多，不过在找到符合条件的元素后，返回该元素的下标</span></div><div><span style="color: rgb(255, 38, 0);">    [1, 5, 10, 15].findIndex(function(value, index, arr) { </span></div><div><span style="color: rgb(255, 38, 0);">            return value &gt; 9; </span></div><div><span style="color: rgb(255, 38, 0);">    }) // 2</span></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">八、Object.assign</span></font></div><div><br/></div><div>合并对象 </div><div>      <span style="color: rgb(255, 38, 0);"> </span><span style="color: rgb(255, 38, 0);"> </span><span style="color: rgb(255, 38, 0);">Object.assign({a:1},{b:2},{b:4,c:3}); </span></div><div><span style="color: rgb(255, 38, 0);">        //{a:1,b:4,c:3} </span></div><div>当然只是浅拷贝 </div><div>对于继承属性忽略 </div><div>对于不可枚举属性忽略 </div><div>对于引用类型，只拷贝引用</div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">九、第七种数据类型Symbol</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>Symbol函数会生成一个唯一的值</div><div>可以理解为Symbol类型跟字符串是接近的</div><div>但每次生成唯一的值，也就是每次都不相等，</div><div>至于它等于多少，并不重要 这对于一些字典变量，比较有用</div></div><div><br/></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">十、Set和Map集合</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">想当初设计JS的时候，由于有SUN公司人员的参与 </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">再加上当时如日中天的JAVA及其优秀的设计，才使得JS语法及内存设计跟JAVA会如此的接近。 </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">但JAVA很多优秀的内容，JS不知道为了什么目的并没有引入，</span><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 14px;"><b>例如Set和Map集合</b></font></span></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 14px;"><b>例如： </b></font></span></div><div><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">let imgs = new Set(); </font></span></div><div><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">imgs.add(1）; </font></span></div><div><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">imgs.add(1）; </font></span></div><div><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">imgs.add(5）; </font></span></div><div><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">imgs.add(&quot;5&quot;）; </font></span></div><div><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">imgs.add(new String(&quot;abc&quot;)）; </font></span></div><div><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">imgs.add(new String(&quot;abc&quot;)）;</font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 14px;"><b>打印的结果： </b></font></span></div><div><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">1 5 '5' 'abc' 'abc'</font></span></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 14px;">Set集合是默认去重复的，但前提是两个添加的元素严格相等 所以5和&quot;5&quot;不相等，两个new出来的字符串不相等。</font></span></div><div><br/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 14px;"><b>关于遍历的方法 </b></font></span></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 14px;"><b>由于Set集合本质上还是一个map，因此会有以下几种奇怪的遍历方法</b></font></span></div><div><font color="#0433FF" face="Monaco">var imgs = new Set(['a','b','c’])</font></div><div><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">//根据KEY遍历 </font></span></div><div><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">for(let item of imgs.keys()){ </font></span></div><div><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">    console.log(item); </font></span></div><div><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">}</font></span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">//a </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">//b </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">//c</span></div><div><br/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">//根据VALUE遍历 </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">for(let item of imgs.values()){ </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">    console.log(item); </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">} </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">//a</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">//b </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">//c</span></div><div><br/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">//根据KEY-VALUE遍历 </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">for(let item of imgs.entries()){ </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">    console.log(item); </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">} </span></div><div><font color="#0433FF" face="Monaco">//['a','a’] </font></div><div><font color="#0433FF" face="Monaco">//['b','b’]</font></div><div><font color="#0433FF" face="Monaco">//[‘c’,’c’]</font></div><div><br/></div><div><br/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">//普通for...of循环(for...of跟for-in的区别很明显，就是直接取值，而不再取下标了) </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">for(let item of imgs){ </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">    console.log(item); </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">} </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">//a </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">//b </span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(4, 51, 255);">//c</span></div><div><br/></div><div><span style="font-family: Monaco;"><font color="#FF2600" style="font-size: 14px;"><b>SET集合没有提供下标方式的访问，因此只能使用for来遍历。</b></font></span></div><div><br/></div><div><span style="font-family: Monaco;"><font color="#000000" style="font-size: 14px;"><b>下面展示了一种极为精巧的数组去重的方法 </b></font></span></div><div><span style="font-family: Monaco;"><font color="#0433FF">var newarr = [...new Set(array)];</font></span></div></div><div><br/></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">十一、Map集合，即映射</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#0433FF">let map = new Map();</font></div><div><font color="#0433FF">map.set(&quot;S230&quot;, &quot;张三&quot;);</font></div><div><font color="#0433FF">map.set(&quot;S231&quot;, &quot;李四&quot;);</font></div><div><font color="#0433FF">map.set(&quot;S232&quot;, &quot;王五”);</font></div><div><font color="#0433FF"><br/></font></div><div><font color="#0433FF">hash 哈希</font></div><div><br/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 14px;">获取某一个元素 </font></span></div><div><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">map.get(&quot;s232&quot;); //王五</font></span></div><div><br/></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 14px;">循环遍历，配合解构赋值 </font></span></div><div><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">for(let [key,value] of map){ </font></span></div><div><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">    console.log(key,value);</font></span></div><div><span style="font-family: Monaco; font-size: 12px;"><font color="#0433FF">}</font></span></div></div><div><br/></div><div> </div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">十二、总结和拓展</span></font></div><div>1、总结，记下去</div><div>2、试卷，涉及的题，总结</div><div>3、预习运动与游戏开发。</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 