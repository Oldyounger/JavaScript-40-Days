<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600388 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="421"/>

<div>
<span><div><div><span style="font-size: 18px; font-weight: bold;">学习目标：</span></div><ol><li><div>PHPNow集成包服务器搭建</div></li><li><div>TCP协议</div></li><li><div>UDP协议</div></li><li><div>认识cookie</div></li><li><div>封装设置cookie和获取的方法</div></li></ol><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">安装、阿帕奇+MySQL  后台  PHP + MySQL</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14px;">如果你想要磁盘的某一部分，想要被别人能访问。只有你电脑上安装的服务端程序，你的磁盘这部分才能被别人所访问。</font></div></div><div><br/></div><div><span style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">PHPnow = </span><span style="font-size: 18px; font-weight: bold;">阿帕奇+MySQL;</span></span></div><div><br/></div><div><span style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">PHPnow/htdocs 这台电脑上运行服务器的根目录 对外开放</span></span></div><div><span style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">【注】1、大家的cookie代码，要放在这个文件夹内。</span></span></div><div><span style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">           2、<a href="http://10.9.161.62/index.html" style="font-size: 18px; font-weight: bold;">http://10.9.161.62/index.html</a></span></span></div><div><br/></div><div><span style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">127.0.0.1   本机访问当前电脑的服务器。  <span style="font-size: 18px; font-weight: bold;">PHPnow/htdocs</span></span></span></div><div><span style="font-size: 18px;"><span style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">localhost   <span style="font-size: 18px; font-weight: bold;">本机访问当前电脑的服务器。  </span><span style="font-size: 18px; font-weight: bold;">PHPnow/htdocs</span></span></span></span></div><div><span style="font-size: 18px; color: rgb(87, 87, 87); font-family: &quot;Helvetica Neue&quot;; font-style: normal; font-variant-caps: normal; font-weight: bold; line-height: normal;">10.9.161.131  </span></div><div><br/></div><div><span style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">默认会去加载index开头的文件：index.html  index.jsp  index.php</span></span></div><div><br/></div><div><span style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">PHPnow/htdocs/i</span><span style="font-size: 18px; font-weight: bold;">ndex.html</span></span></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">一、TCP、UDP协议</span></font></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Yu Gothic UI; font-size: 16px;">通信协议是什么？</span></div><div><span style="font-family: Yu Gothic UI; font-size: 16px;">    我们在公路上需要遵守交通法则，同样数据在网络上进行传输我们也得遵守数据传输的规则。</span></div><div><span style="font-family: Yu Gothic UI; font-size: 16px;">    在数据传输的规则，也就是协议中，最常见的协议就是TCP和UDP协议。其中http协议就是TCP实现的。</span></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14px;"><b>TCP协议概念：</b></font></div><div><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">TCP</span><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">是一种面向连接的、可靠的、基于字节流的传输层</span><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">通信协议。</span></div><div><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">1、账目密码</span></div><div><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">2、PC端网络</span></div><div><span style="color: rgb(51, 51, 51); font-family: arial;">【注】如果需要传输，就先建立链接，开始传输数据，当数据传输结束，就直接断开链接。如果再要进行传输，重新建立链接。</span></div><div><font face="arial">好处：安全，准确性高，面向链接</font></div><div><font face="arial">坏处：TCP协议比较耗费时间，耗费资源。</font></div></div><div><br/></div><div><br/></div><div>1、TCP协议三次握手建立连接</div><div><img src="day12_cookie会话跟踪技术_files/Image.png" type="image/png" data-filename="Image.png" width="235"/></div><div><br/></div><div>2、TCP协议四次挥手断开连接</div><div><img src="day12_cookie会话跟踪技术_files/Image [1].png" type="image/png" data-filename="Image.png" width="209"/></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 14px;"><b>UDP概念：</b></font></span></div><div><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">UDP 是User Datagram Protocol的简称，</span> <span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"> 参考模型中一种无连接的传输层</span><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">协议，提供面向事务的简单不可靠信息传送服务。</span></div><div><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">1、不连接，直接传</span></div><div><span style="color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">2、不安全，容易丢。</span></div><div><br/></div><div style="orphans: 2; text-indent: 28px; widows: 2;"><font face="arial, 宋体, sans-serif" size="3">及时性要求非常高，数据完整度要求不高：</font></div><div style="orphans: 2; text-indent: 28px; widows: 2;"><font face="arial, 宋体, sans-serif" size="3">及时的语音视频聊天软件。</font></div><div><br/></div></div><div><br/></div><div><img src="day12_cookie会话跟踪技术_files/Image.gif" type="image/gif" data-filename="Image.gif"/></div><div><br/></div><div><br/></div><div><font face="Helvetica Neue" style="font-size: 18px;"><span style="font-size: 18px; font-family: &quot;Helvetica Neue&quot;; font-weight: bold;">二、HTTP（无状态的协议）</span></font></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Yu Gothic UI; font-size: 16px;">基于TCP协议的一种高级协议, 用于客户端和服务器直接的通信。</span></div><div><br/></div><div><span style="font-family: Yu Gothic UI; font-size: 16px;">这种通信最大的问题在哪？</span></div><div><span style="font-family: Yu Gothic UI; font-size: 16px;">问题就在于每次收到返回的页面，连接都断开了。</span></div><div><span style="font-family: Yu Gothic UI; font-size: 16px;">这种通讯的问题就在于， 你挂了电话， 我还怎么通讯？</span></div><div><span style="font-size: 16px; font-family: 'Yu Gothic UI'; color: rgb(51, 51, 51);">    </span></div><div><span style="font-size: 16px; font-family: 'Yu Gothic UI'; color: rgb(51, 51, 51);">    比如你刚刚登陆过的账号密码， 如果你再想要登陆的话， 还要输入一遍。。。 举个简单的例子， 你逛淘宝时候每看一个商品都要重新登陆一下。。。那酸爽；</span></div></div><div><br/></div><div><font face="Yu Gothic UI" style="font-size: 18px;"><span style="font-size: 18px; font-family: &quot;Yu Gothic UI&quot;; font-weight: bold;">三、cookie概念</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 16px;"><font face="Helvetica Neue">COOKIE的诞生，为什么叫<b><font color="#FF2600">会话跟踪技术</font></b>？</font></span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-size: 16px; font-family: 'Yu Gothic UI'; color: rgb(51, 51, 51);">在一次会话从开始到结束的整个过程，全程跟踪记录客户端的状态（例如：是否登录、购物车信息、是否已下载、是否 已点赞、视频播放进度等等）</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-size: 16px; font-family: 'Yu Gothic UI'; color: rgb(51, 51, 51);">你把COOKIE就当成是第一次跟服务器连接后，服务器发给你的身份牌，上面就记录跟你有关的信息 以后只要再跟服务器通信，必须带着这个身份牌 这样一来，关于你是谁？ 有没有登陆过？ 购物车里有什么信息？ 服务器当然就很容易知道了。</span></div></div><div><br/></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">四、cookie的组成</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-style: normal; font-variant-caps: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; color: rgb(255, 0, 0); -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 0, 0); font-family: Monaco;"><font style="font-size: 14px;"><b>cookie</b></font></span> <font color="#000000"><font style="font-size: 14px;"><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">由名</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">/</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">值对形式的文本组成：</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">name=value</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">。完整格式为：</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;"> </span></font><span style="font-size: 12px; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(0, 0, 0); font-family: Monaco;">  </span></font></div><div><font style="font-size: 14px;"><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; color: rgb(255, 0, 0); -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 0, 0); font-family: Monaco;">name=value;[expires=date];[path=path];[domai</span><span style="font-variant-caps: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 0, 0); font-family: Monaco;"><font color="#FF2600">n=<a href="http://somewhere.com/" style="color: rgb(0, 0, 0);">somewhere.com</a>];[secure]，</font></span></font></div><div><font style="font-size: 14px;"><font color="#000000"><span style="line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">中括号是可选，</span></font><span style="line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; color: rgb(255, 0, 0); -webkit-text-stroke-color: rgb(255, 0, 0); font-family: Monaco;">name=value</span> <font color="#000000"><span style="line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">是必选。</span><span style="line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;"> </span></font></font></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#FF2600" style="font-size: 18px;"><b>设置cookie</b></font></div><div><font color="#FF2600">document.cookie = 符合cookie格式的字符串。</font></div><div><br/></div><div><font color="#FF2600" style="font-size: 18px;"><b>读取cookie</b></font></div><div><span style="font-size: 12px; font-family: Monaco;"><font color="#FF2600">alert(document.cookie); 直接读取</font></span></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#FF2600" style="font-size: 18px;"><b>编码与解码</b></font></div><div><font style="font-size: 14px;">为了保证在存储cookie和读取cookie的过程中，防止中文乱码，一般情况下，将中文编码存储，读取的时候再解码读取。</font></div><div><span style="font: 18.0px Arial; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">document.cookie=‘user=‘ +encodeURIComponent(‘</span><span style="font: 18.0px 'Songti TC'; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">田雨飞</span><span style="font: 18.0px Arial; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">');</span> <span style="font: 18.0px Arial; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #00b050; -webkit-text-stroke: 0px #00b050; font-family: Monaco; font-size: 12px;">//</span><span style="font: 18.0px 'Songti TC'; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #00b050; -webkit-text-stroke: 0px #00b050; font-family: Monaco; font-size: 12px;">编码写入</span><span style="font: 18.0px Times; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #00b050; -webkit-text-stroke: 0px #00b050; font-family: Monaco; font-size: 12px;"> </span></div><div><span style="font: 18.0px Arial; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">alert(decodeURIComponent(document.cookie));</span> <span style="font: 18.0px Arial; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #00b050; -webkit-text-stroke: 0px #00b050; font-family: Monaco; font-size: 12px;">//</span><span style="font: 18.0px 'Songti TC'; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #00b050; -webkit-text-stroke: 0px #00b050; font-family: Monaco; font-size: 12px;">解码读取</span></div></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">浏览器上查看cookie</span></font></div><div>查看百度的cookie</div><div><img src="day12_cookie会话跟踪技术_files/Image [2].png" type="image/png" data-filename="Image.png" width="548"/></div><div><br/></div><div>查看自己设置的cookie</div><div><img src="day12_cookie会话跟踪技术_files/Image [3].png" type="image/png" data-filename="Image.png" width="418"/></div><div><br/></div><div><img src="day12_cookie会话跟踪技术_files/Image [4].png" type="image/png" data-filename="Image.png" width="421"/></div><div><br/></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">五、cookie中可选属性详解</span></font></div><div><span style="font-size: 18px; font-weight: bold;">5.1.失效时间 — expires</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#FF2600" style="font-size: 14px;"><b><span style="font-style: normal; font-variant-caps: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">expires=date</span></b></font></div><div style="font-size: 12px;"><span style="font-style: normal; font-variant-caps: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">失效时间，如果没有声明，则为浏览器关闭后即失效。声明了失效时间，</span> <span style="font-style: normal; font-variant-caps: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">那么时间到期后方能失效。</span><span style="font-style: normal; font-variant-caps: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;"> </span></div><div style="font-size: 12px;"></div><div style="font-size: 12px;"><span style="font-style: normal; font-variant-caps: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;"><span style="font: 18.0px Arial; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">var date=newDate();</span> <span style="font: 18.0px Arial; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #00b050; -webkit-text-stroke: 0px #00b050; font-family: Monaco; font-size: 12px;">//</span><span style="font: 18.0px 'Songti TC'; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #00b050; -webkit-text-stroke: 0px #00b050; font-family: Monaco; font-size: 12px;">创建一个</span></span></div><div><span style="font: 18.0px Arial; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">date.setDate(date.getDate() +7);</span></div><div><span style="font: 18.0px Arial; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">document.cookie=“user= “+ encodeURIComponent('</span><span style="font: 18.0px 'Songti TC'; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">田雨飞</span><span style="font: 18.0px Arial; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">')+&quot;;expires=&quot; +date;</span></div><div><br/></div><div><font color="#000000" style="font-size: 14px;"><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">PS</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">：可以通过</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">Firefox</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">浏览器查看和验证失效时间。如果要提前删除</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">cookie</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">也非常简单，</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">只要重新创建</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">cookie</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">把时间设置当前时间之前即可：</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">date.getDate() -1</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">或</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">newDate(0)</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">。</span></font></div><div style="font-size: 12px;"></div></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">5.2.path限制访问路径</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-style: normal; font-variant-caps: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;"><font color="#FF2600" style="font-size: 14px;"><b>path=path</b></font></span> <span style="color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco; font-size: 12px;">限制</span><span style="color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco; font-size: 12px;">访问路径，当设置了路径，那么只有设置的那个路径文件才可以访问</span> <span style="color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco; font-size: 12px;">cookie</span><span style="color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco; font-size: 12px;">。</span></div><div><br/></div><div><span style="font: 18.0px Arial; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;"> var path='/E:/%E5%A4%87%E8%AF%BE%E7%AC%94%E8%AE%B0/JS1/29/demo';</span></div><div><span style="font: 18.0px Arial; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">document.cookie=“user= “+ encodeURIComponent('</span><span style="font: 18.0px 'Songti TC'; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">田雨飞</span><span style="font: 18.0px Arial; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">')+ &quot;;path=&quot;+path;</span></div><div><br/></div><div><font color="#000000" style="font-size: 14px;"><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">PS</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;">：为了操作方便，我直接把路径复制下来，并且增加了一个目录以强调效果。</span></font></div></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">5.3domain限制</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-style: normal; font-variant-caps: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; color: rgb(255, 0, 0); -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 0, 0); font-family: Monaco;"><font style="font-size: 14px;"><b>domain=domain</b></font></span> <font color="#000000"><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco; font-size: 12px;">访问域名，用于限制只有设置的域名才可以访问，那么没有设置，会</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco; font-size: 12px;">默认限制为创建</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco; font-size: 12px;">cookie</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco; font-size: 12px;">的域名。</span></font></div><div><span style="font: 18.0px Arial; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">var domain ='</span><a href="http://baidu.com/" style="font: 18.0px Arial; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">baidu.com</a><span style="font: 18.0px Arial; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">';</span></div><div><span style="font: 18.0px Arial; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">document.cookie=&quot;user= &quot;+ encodeURIComponent('</span><span style="font: 18.0px 'Songti TC'; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">田雨飞</span><span style="font: 18.0px Arial; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">')+ &quot;;domain=&quot;+domain;</span></div><div><font color="#000000"><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 0, 0); font-family: Monaco; font-size: 12px;">PS</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 0, 0); font-family: Monaco; font-size: 12px;">：</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco; font-size: 12px;">如果定义了</span> <a href="http://baidu.com/" style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco; font-size: 12px; color: rgb(0, 0, 0);">baidu.com</a> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco; font-size: 12px;">，那么在这个域名下的任何网页都可访问</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco; font-size: 12px;">.必须访问域名和设置cookie的域名一致，否则cookie设置失败。</span></font></div></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">5.4secure安全设置</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-style: normal; font-variant-caps: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco;"><font color="#FF2600" style="font-size: 14px;"><b>secure</b></font></span> <span style="color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco; font-size: 12px;">安全设置，指明必须通过安全的通信通道来传输</span><span style="color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco; font-size: 12px;">(HTTPS)</span><span style="color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco; font-size: 12px;">才能获取</span> <span style="color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco; font-size: 12px;">cookie</span><span style="color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(255, 255, 255); font-family: Monaco; font-size: 12px;">。</span></div><div><span style="font: 18.0px Arial; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">document.cookie=&quot;user= &quot;+ encodeURIComponent('</span><span style="font: 18.0px 'Songti TC'; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">田雨飞</span><span style="font: 18.0px Arial; font-kerning: none; font-variant-ligatures: no-common-ligatures; color: #ff0000; -webkit-text-stroke: 0px #ff0000; font-family: Monaco; font-size: 12px;">')+ &quot;;secure&quot;;</span></div><div><span style="color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(0, 249, 0); font-family: Monaco; font-size: 12px;">PS</span><span style="color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(0, 249, 0); font-family: Monaco; font-size: 12px;">：</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(0, 249, 0); font-family: Monaco; font-size: 12px;"><font color="#AA7942">https</font></span> <span style="color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; -webkit-font-kerning: none; font-variant-ligatures: no-common-ligatures; -webkit-text-stroke-width: 0px; -webkit-text-stroke-color: rgb(0, 249, 0); font-family: Monaco; font-size: 12px;">安全通信链接需要单独配置。</span></div></div><div><br/></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">六、封装</span></font></div><div><span style="font-size: 18px; -webkit-text-stroke: 0px rgb(255, 255, 255); font-family: Arial; font-style: normal; font-variant-caps: normal; font-variant-ligatures: no-common-ligatures; font-weight: normal; line-height: normal;">JavaScript</span> <span style="font-size: 18px; -webkit-text-stroke: 0px rgb(255, 255, 255); font-family: &quot;Songti TC&quot;; font-style: normal; font-variant-caps: normal; font-variant-ligatures: no-common-ligatures; font-weight: normal; line-height: normal;">设置、读取和删除并不是特别的直观方便，我们可以封装成函数来方便调用。</span></div><div><img src="day12_cookie会话跟踪技术_files/Image [5].png" type="image/png" data-filename="Image.png" width="511"/></div><div><br/></div><div><br/></div><div><img src="day12_cookie会话跟踪技术_files/Image [6].png" type="image/png" data-filename="Image.png" width="553"/></div><div><br/></div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">七、总结和拓展</span></font></div><ol><li><div>网络分层 五层&lt;1&gt;物理层（网线、光纤、WIFI） &lt;2&gt;数据链路层（二进制数据） &lt;3&gt;网络层（IP） &lt;4&gt;传输层（TCP、UDP） &lt;5&gt;应用层（http）</div></li><li><div>TCP</div></li><li><div>UDP </div></li><li><div>cookie 会话跟踪技术</div></li><li><div>name=value;expires=时间;path=路径;domain=域名;secure;</div></li><li><div>http 和 https</div></li><li><div>删除cookie，设置时间过期</div></li><li><div>indexOf substring split</div></li></ol><div><br/></div><div><span style="font-size: 18px;"><span style="font-size: 18px; font-weight: bold;">八、作业</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-weight: bold; font-size: 18px;">模拟记住用户名和密码</span></div><div><span style="font-weight: bold; font-size: 18px;">如果你之前登录过，显示您已经登录了。</span></div><div><span style="font-weight: bold; font-size: 18px;">如果没有登录过，显示登录界面输入，进行cookie缓存。</span></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 